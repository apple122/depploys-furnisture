{"ast":null,"code":"import _slicedToArray from\"H:/Apple-Funiture/Furnisture/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Modal,Typography,Button,Box}from'@mui/material';import{useState}from'react';import data from'./data';import Swal from'sweetalert2';import axios from'axios';import useFunctions from'./useFunctions';import{useContext}from'react';import{Context_Slide}from'./Slide';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Edit_Slide(props){var item=props.Item;var _useContext=useContext(Context_Slide),FuncReducer=_useContext.FuncReducer;function Submit(e){e.preventDefault();var formData=new FormData();formData.append('Image',Preview!==''?Preview:item.Image);formData.append('Title',e.target[0].value);axios.patch(data.Mainurl+data.PATCH+item._id,formData).then(function(res){var Toast=Swal.mixin({toast:true,position:'top-end',showConfirmButton:false,timer:3000,timerProgressBar:true,didOpen:function didOpen(toast){toast.addEventListener('mouseenter',Swal.stopTimer);toast.addEventListener('mouseleave',Swal.resumeTimer);}});if(Preview!==undefined){var Multiple=new FormData();Multiple.append('profile',Preview);axios.post('http://localhost:3022/Multiple/data',Multiple);FuncReducer();}else{FuncReducer();}Toast.fire({icon:'success',title:'ແກ້ໄຂຂໍ້ມູນສຳເລັດ!'});setPreview('');setOpen(false);});}var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),Preview=_useState2[0],setPreview=_useState2[1];function ChangView(e){setPreview(e.target.files[0]);}var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"rounded bg-blue-400 py-1 px-2 text-white\",onClick:handleOpen,children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-pencil-square\"}),\" \\u0EC1\\u0E81\\u0EC9\\u0EC4\\u0E82\"]}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{id:\"StyleModal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-2 text-[22px]\",children:\"\\u0EC0\\u0E9E\\u0EB5\\u0EA1\\u0E82\\u0ECD\\u0EC9\\u0EA1\\u0EB9\\u0E99 \\u0EA5\\u0EB2\\u0E8D\\u0E81\\u0EB2\\u0E99\\u0EAA\\u0EB5\\u0E99\\u0E84\\u0EC9\\u0EB2\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-5\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",className:\"grid grid-cols-1 gap-5\",onSubmit:Submit,enctype:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0EAB\\u0EBB\\u0EA7\\u0E82\\u0ECD\\u0EC9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"p-2 w-full border rounded focus:border-blue-200\",defaultValue:item.Title,placeholder:\":.......\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"p-2 w-full border rounded focus:border-blue-200\",onChange:ChangView,placeholder:\":.......\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-scroll max-h-80\",children:/*#__PURE__*/_jsx(\"img\",{src:Preview!==undefined?URL.createObjectURL(Preview):data.IMG+item.Image})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-5 flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"bg-blue-500 rounded py-1 px-2 text-white\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-cloud-download\"}),\" | \\u0E9A\\u0EB1\\u0E99\\u0E97\\u0EB7\\u0E81\\u0E82\\u0ECD\\u0EC9\\u0EA1\\u0EB9\\u0E99\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"reset\",onClick:handleClose,className:\"bg-red-500 rounded py-1 px-2 text-white\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-x-diamond-fill\"}),\" | \\u0E8D\\u0EBB\\u0E81\\u0EC0\\u0EA5\\u0EB5\\u0E81\"]})]})]})})]})})]});}","map":{"version":3,"names":["React","Modal","Typography","Button","Box","useState","data","Swal","axios","useFunctions","useContext","Context_Slide","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit_Slide","props","item","Item","_useContext","FuncReducer","Submit","e","preventDefault","formData","FormData","append","Preview","Image","target","value","patch","Mainurl","PATCH","_id","then","res","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","undefined","Multiple","post","fire","icon","title","setPreview","setOpen","_useState","_useState2","_slicedToArray","ChangView","files","_useState3","_useState4","open","handleOpen","handleClose","children","className","onClick","class","onClose","id","method","onSubmit","enctype","type","defaultValue","Title","placeholder","required","onChange","src","URL","createObjectURL","IMG"],"sources":["H:/Apple-Funiture/Furnisture/src/Page/Admin/Slide/Edit.Slide.js"],"sourcesContent":["import React from 'react'\r\nimport { Modal, Typography, Button, Box } from '@mui/material';\r\nimport { useState } from 'react';\r\nimport data from './data';\r\nimport Swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nimport useFunctions from './useFunctions';\r\nimport { useContext } from 'react';\r\nimport { Context_Slide } from './Slide';\r\n\r\nexport default function Edit_Slide(props) {\r\n    let item = props.Item\r\n\r\n    const { FuncReducer } = useContext(Context_Slide)\r\n\r\n    function Submit(e) {\r\n        e.preventDefault()\r\n        const formData = new FormData()\r\n        formData.append('Image', (Preview !== '' ? Preview : item.Image))\r\n        formData.append('Title', e.target[0].value)\r\n\r\n        axios.patch(data.Mainurl + data.PATCH + item._id, formData).then((res) => {\r\n            const Toast = Swal.mixin({\r\n                toast: true,\r\n                position: 'top-end',\r\n                showConfirmButton: false,\r\n                timer: 3000,\r\n                timerProgressBar: true,\r\n                didOpen: (toast) => {\r\n                    toast.addEventListener('mouseenter', Swal.stopTimer)\r\n                    toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n                }\r\n            })\r\n\r\n            if (Preview !== undefined) {\r\n                const Multiple = new FormData()\r\n                Multiple.append('profile', Preview)\r\n                axios.post('http://localhost:3022/Multiple/data', Multiple)\r\n                FuncReducer()\r\n            } else {\r\n                FuncReducer()\r\n            }\r\n\r\n            Toast.fire({\r\n                icon: 'success',\r\n                title: 'ແກ້ໄຂຂໍ້ມູນສຳເລັດ!'\r\n            })\r\n            setPreview('')\r\n            setOpen(false);\r\n        })\r\n    }\r\n\r\n    const [Preview, setPreview] = useState(undefined)\r\n    function ChangView(e) {\r\n        setPreview(e.target.files[0])\r\n    }\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button className='rounded bg-blue-400 py-1 px-2 text-white' onClick={handleOpen}><i class=\"bi bi-pencil-square\"></i> ແກ້ໄຂ</button>\r\n\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box id='StyleModal'>\r\n                    <div className='py-2 text-[22px]'>ເພີມຂໍ້ມູນ ລາຍການສີນຄ້າ</div><hr />\r\n                    <div className='pt-5'>\r\n                        <form method='POST' className='grid grid-cols-1 gap-5' onSubmit={Submit} enctype=\"multipart/form-data\">\r\n                            <div className='grid grid-cols-1 gap-5'>\r\n                                <div className='form-group'>\r\n                                    <label>ຫົວຂໍ້</label>\r\n                                    <input type='text' className='p-2 w-full border rounded focus:border-blue-200' defaultValue={item.Title} placeholder=':.......' required />\r\n                                </div>\r\n                                <div className='form-group'>\r\n                                    <label>Image</label>\r\n                                    <input type='file' className='p-2 w-full border rounded focus:border-blue-200' onChange={ChangView} placeholder=':.......' />\r\n                                </div>\r\n                                <div className='overflow-scroll max-h-80'>\r\n                                    <img src={Preview !== undefined ? URL.createObjectURL(Preview) : (data.IMG + item.Image)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <hr />\r\n                            <div className='pt-5 flex gap-2'>\r\n                                <button type='submit' className='bg-blue-500 rounded py-1 px-2 text-white'><i class=\"bi bi-cloud-download\"></i> | ບັນທືກຂໍ້ມູນ</button>\r\n                                <button type='reset' onClick={handleClose} className='bg-red-500 rounded py-1 px-2 text-white'><i class=\"bi bi-x-diamond-fill\"></i> | ຍົກເລີກ</button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </Box>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}